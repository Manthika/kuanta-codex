---
/* 3-card section; uses your images and typography */
import { FALLBACK_LOCALE, getTranslations, type SupportedLocale } from "../../i18n";

const locale = (Astro.currentLocale ?? FALLBACK_LOCALE) as SupportedLocale;
const features = getTranslations(locale).home.features;
---
<section class="cards-section" aria-labelledby="cards-title">
  <div class="container">
    <h2 id="cards-title" class="cards-title">{features.title}</h2>
    <h2 class="cards-subtitle">{features.tagline}</h2>
    <h5 class="main-desc">{features.description}</h5>
  </div>

  <div class="container">
    <div class="features-grid" role="list">
      <article class="feature-card" role="listitem">
        <div class="feature-icon" aria-hidden="true">
          <svg xmlns="http://www.w3.org/2000/svg" width="40" height="35" viewBox="0 0 40 35" fill="none">
            <path d="M8.92308 11.5455L20 23.8182L31.0769 11.5455M20 32L38 12.9091L28.3077 2H11.6923L2 12.9091L20 32Z" stroke="url(#paint0_linear_1_21659)" stroke-width="3"/>
            <defs>
              <linearGradient id="paint0_linear_1_21659" x1="20" y1="2" x2="41.5" y2="24" gradientUnits="userSpaceOnUse">
                <stop stop-color="#4A3BFF"/>
                <stop offset="1" stop-color="#000C4A"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <h3 class="feature-title">{features.items.engineerFriendly.title}</h3>
        <p class="feature-desc">{features.items.engineerFriendly.description}</p>
      </article>

      <article class="feature-card" role="listitem">
        <div class="feature-icon" aria-hidden="true">
          <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36" fill="none">
            <path d="M6.36364 10.7273V28.1818C6.36364 29.7249 6.97662 31.2048 8.06774 32.2959C9.15886 33.387 10.6387 34 12.1818 34C13.7249 34 15.2048 33.387 16.2959 32.2959C17.387 31.2048 18 29.7249 18 28.1818V7.81818C18 6.2751 18.613 4.79523 19.7041 3.70411C20.7952 2.61299 22.2751 2 23.8182 2C25.3613 2 26.8411 2.61299 27.9323 3.70411C29.0234 4.79523 29.6364 6.2751 29.6364 7.81818V16.5455M6.36364 10.7273C7.52094 10.7273 8.63085 10.2675 9.44919 9.44919C10.2675 8.63085 10.7273 7.52094 10.7273 6.36364C10.7273 5.20633 10.2675 4.09642 9.44919 3.27808C8.63085 2.45974 7.52094 2 6.36364 2C5.20633 2 4.09642 2.45974 3.27808 3.27808C2.45974 4.09642 2 5.20633 2 6.36364C2 7.52094 2.45974 8.63085 3.27808 9.44919C4.09642 10.2675 5.20633 10.7273 6.36364 10.7273ZM29.6364 33.1273L30.0669 32.8247C31.2811 31.9747 32.2726 30.8445 32.9573 29.5298C33.6419 28.2152 33.9996 26.7549 34 25.2727C34 24.1154 33.5403 23.0055 32.7219 22.1872C31.9036 21.3688 30.7937 20.9091 29.6364 20.9091C28.4791 20.9091 27.3691 21.3688 26.5508 22.1872C25.7325 23.0055 25.2727 24.1154 25.2727 25.2727C25.2731 26.7549 25.6308 28.2152 26.3155 29.5298C27.0001 30.8445 27.9916 31.9747 29.2058 32.8247L29.6364 33.1273Z" stroke="url(#paint0_linear_1_21666)" stroke-width="3"/>
            <defs>
              <linearGradient id="paint0_linear_1_21666" x1="18" y1="2" x2="53" y2="21.5" gradientUnits="userSpaceOnUse">
                <stop stop-color="#4A3BFF"/>
                <stop offset="1" stop-color="#000C4A"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <h3 class="feature-title">{features.items.integrateExisting.title}</h3>
        <p class="feature-desc">{features.items.integrateExisting.description}</p>
      </article>

      <article class="feature-card" role="listitem">
        <div class="feature-icon" aria-hidden="true">
          <svg xmlns="http://www.w3.org/2000/svg" width="41" height="40" viewBox="0 0 41 40" fill="none">
            <path d="M20.5 2L2.5 15.8462M20.5 2L38.5 15.8462M20.5 2V11.6923M2.5 15.8462L9.42308 38M2.5 15.8462L10.8077 18.6154M38.5 15.8462L31.5769 38M38.5 15.8462L28.8077 18.6154M20.5 11.6923L28.8077 18.6154M20.5 11.6923L10.8077 18.6154M9.42308 38H31.5769M9.42308 38L14.9615 29.6923M10.8077 18.6154L14.9615 29.6923M31.5769 38L24.6538 25.5385M14.9615 29.6923L24.6538 25.5385M24.6538 25.5385L28.8077 18.6154" stroke="url(#paint0_linear_1_21694)" stroke-width="3"/>
            <defs>
              <linearGradient id="paint0_linear_1_21694" x1="20.5" y1="2" x2="53" y2="38" gradientUnits="userSpaceOnUse">
                <stop stop-color="#4A3BFF"/>
                <stop offset="1" stop-color="#000C4A"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <h3 class="feature-title">{features.items.messageAnalysis.title}</h3>
        <p class="feature-desc">{features.items.messageAnalysis.description}</p>
      </article>

      <article class="feature-card" role="listitem">
        <div class="feature-icon" aria-hidden="true">
          <svg xmlns="http://www.w3.org/2000/svg" width="39" height="40" viewBox="0 0 39 40" fill="none">
            <path d="M26.0455 14.7964L37.5 20L19.5 28.1818L1.5 20L12.9545 14.7964M26.0455 24.6145L37.5 29.8182L19.5 38L1.5 29.8182L12.9545 24.6145M19.5 2L1.5 10.1818L19.5 18.3636L37.5 10.1818L19.5 2Z" stroke="url(#paint0_linear_1_21708)" stroke-width="3" stroke-linejoin="round"/>
            <defs>
              <linearGradient id="paint0_linear_1_21708" x1="19.5" y1="2" x2="46.5" y2="31.5" gradientUnits="userSpaceOnUse">
                <stop stop-color="#4A3BFF"/>
                <stop offset="1" stop-color="#000C4A"/>
              </linearGradient>
            </defs>
          </svg>
        </div>
        <h3 class="feature-title">{features.items.hierarchicalDistribution.title}</h3>
        <p class="feature-desc">{features.items.hierarchicalDistribution.description}</p>
      </article>
    </div>
  </div>
</section>

<style>
  .cards-section{ padding: clamp(28px, 6vw, 80px) 0; background:#FDFDFF; margin-bottom: 120px; }

/* Mobile-first, safe container */
.container{
  /* change this if you want a different cap */
  --container-max: 1200px;

  box-sizing: border-box;
  width: 100%;
  max-width: var(--container-max);
  margin-inline: auto;
  /* responsive gutters without media queries */
  padding-inline: clamp(16px, 4vw, 50px);
}

/* (Optional) tweak gutters at larger breakpoints if you want */
@media (min-width: 768px){
  .container{ padding-inline: clamp(24px, 4vw, 50px); }
}
@media (min-width: 1024px){
  .container{ padding-inline: clamp(32px, 3vw, 50px); }
}


  /* Heading (your spec) */
  .cards-title{
    margin: 0 0 clamp(18px,4vw,36px);
    text-align: center;
    font-family: "Vitro Core", system-ui, sans-serif;
    font-size: clamp(18px,3.4vw,28px);
    font-weight: 900;
    line-height: 175%;
    letter-spacing: -0.56px;
    background: linear-gradient(90deg, #4A3BFF 0%, #000C4A 100%);
    -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
    margin-bottom: 100px;
  }

  .cards-subtitle{
    font-size: clamp(16px,3vw,32px);
    text-align: center;
    font-family: Inter;
    font-size: 32px;
    font-style: italic;
    font-weight: 900;
    line-height: 140%; /* 44.8px */
    letter-spacing: -0.64px;
    text-transform: capitalize;
    background: linear-gradient(90deg, #4A3BFF 13.13%, #000C4A 91.79%);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 20px;
  }

  .main-desc{
    color: #646471;
    text-align: center;
    font-family: "Vitro Core";
    font-size: 18px;
    font-style: normal;
    font-weight: 900;
    line-height: 160%;
    letter-spacing: 0.36px;
    max-width: 900px;
    margin: 0 auto;
    margin-bottom: 100px;
  }

  .features-grid{
    display: grid;
    gap: clamp(18px, 4vw, 32px);
    grid-template-columns: 1fr;
  }

  @media (min-width: 768px){
    .features-grid{
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  .feature-card{
    background: transparent;
    border-radius: 18px;
    box-shadow: none;
    padding: clamp(20px, 3vw, 28px);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: clamp(12px, 2vw, 18px);
    height: 100%;
  }

  .feature-icon{
    position: relative;
    width: clamp(64px, 7vw, 84px);
    height: clamp(48px, 5.5vw, 64px);
    display: flex;
    align-items: center;
    justify-content: center;
    isolation: isolate;
  }

  .feature-icon::before{
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 50% / 50%;
    background: #F0EEFF;
    z-index: -1;
  }

  .feature-title{
    margin: 0;
    color: #4A3BFF;
    font-family: "VITRO CORE"
    font-size: clamp(18px, 2.4vw, 22px);
    font-weight: 900;
    line-height: 150%;
    letter-spacing: -0.44px;
    text-align: center;
  }

  .feature-desc{
    margin: 0;
    color: rgba(100, 100, 113, 0.65);
    text-align: center;
  }

  .features-grid{
    display: grid;
    gap: clamp(16px, 3vw, 28px);
    grid-template-columns: 1fr;
  }

  @media (min-width: 640px){
    .features-grid{
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  @media (min-width: 1024px){
    .features-grid{
      grid-template-columns: repeat(2, minmax(0, 1fr));
    }
  }

  .feature-card{
    background: transparent;
    border-radius: 18px;
    box-shadow: none;
    padding: clamp(20px, 3vw, 28px);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: clamp(12px, 2vw, 18px);
    height: 100%;
  }

  .feature-icon{
    width: clamp(56px, 6vw, 72px);
    height: clamp(56px, 6vw, 72px);
    border-radius: 20px;
    background: rgba(74, 59, 255, 0.08);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .feature-title{
    margin: 0;
    color: #4A3BFF;
    font-family: "Vitro Core", system-ui, sans-serif;
    font-size: clamp(18px, 2.4vw, 22px);
    font-weight: 900;
    line-height: 150%;
    letter-spacing: -0.44px;
    text-align: center;
  }

  .feature-desc{
    margin: 0;
    color: rgba(100, 100, 113, 0.65);
    font-family: "Vitro Core", system-ui, sans-serif;
    font-size: clamp(14px, 2vw, 16px);
    font-weight: 700;
    line-height: 160%;
    letter-spacing: 0.16px;
    text-align: center;
  }
</style>
